<div class="ContinuousTimeSeriesChart" v-onresize="onResize">
 
    <svg ref="svg"
    
  
    @mouseleave="onMouseLeave" @mousedown="onMouseDown" @mouseup="onMouseUp" 
    @mousemove="onMouseMove" @wheel="onWheel" :height="size.y" :width="size.x" :style="getStyle()">

        <!-- This is a frame around the entire viewBox: -->
        <rect v-if="debug" :x="0" :y="0" :width="size.x" :height="size.y" style="fill:transparent;stroke:#555;stroke-width:1px" />

        <g v-for="(timeseries,attrKey) in data.data" class="ContinousTimeSeriesChart__DataSeriesHoverCatcher"
        
        @aclick="onDataSeriesClick(attrKey, $event)" v-on-no-drag-click="(event) => {onNoDragClick(attrKey, event)}">

            <path :class="getDataSeriesClass(attrKey)" :style="getDataSeriesStyle(attrKey)" :d="getPath(attrKey)" />                          
        </g>

        
        <template v-for="label of getAxisLabelsX()">            
            <text :x="label.x" :y="size.y - 5" v-html="label.text" style="text-anchor: middle;font-size:0.9em"></text>            
        </template>
        

        <!-- Datetime label at bottom of the panel: -->
        <!--
        <g v-if="timeAtMouse != -1" :transform="`translate(${w2sX(timeAtMouse)},0)`">
            <line :x1="0" :y1="0" :x2="0" :y2="getChartHeight()" 
            style="stroke:#bbb;stroke-width:2px;stroke-dasharray:2;pointer-events:none" />

            <rect :x="-85" :y="size.y-20" :width="170" :height="20" style="fill:#ddd;" />
            <text :x="0" :y="size.y-5" v-html="getTimeString(timeAtMouse)" style="font-size:0.9em;text-anchor:middle"></text>
        </g>
        -->

        
        
        <g v-if="closestVertex != null" class="ContinousTimeSeriesChart__VertexInfo"
        :transform="`translate(${w2sX(closestVertex.timestamp)},${w2sY(closestVertex.value)})`">
            <circle class="ContinousTimeSeriesChart__ClosestValueMarker" :r="4" />

            <g :transform="`translate(0,${getClosestLabelY()})`">

                <rect :x="-bw" :y="-bh" rx="2" ry="2" :width="bw*2" :height="bh*2"/>
                
                <text class="ContinousTimeSeriesChart__ClosestValueMarker__Time" y="-8" v-html="getClosestLabel()"></text>
                
                <text class="ContinousTimeSeriesChart__ClosestValueMarker__Value"y="10" v-html="closestVertex.value"></text>
            </g>
        </g>
        
    </svg>
</div>