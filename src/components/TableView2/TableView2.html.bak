<div class="TableView2" v-if="displayData != null" ref="outer" @scroll="onScroll">
  <div ref="inner" :style="getInnerDynamicStyle()">
    <table ref="table" v-onresize="onResize">

      <thead>
        <tr>
          <th v-for="(field,index) in displayData.fields">
            <button @click="onHeaderCellClick(index)" :style="getHeaderButtonStyle(field)" :title='"Nach \"" + field.label + "\" sortieren"'>

              <!-- NOTE: Depending on whether the text alignment of the field is left or not (e.g. right or center),
            we put the order icon either *in front of* or *behind* the text label: -->
              <!--
            <template v-if="field.textAlign == 0">
              <span>{{field.label}}</span>
              <img src="tivigi/img/arrow_down2.svg" :style="getSortIconStyle(index)" />
            </template>

            <template v-else>
              <img src="tivigi/img/arrow_down2.svg" :style="getSortIconStyle(index)" />
              <span>{{field.label}}</span>              
            </template>
            -->
              <span>{{field.label}}</span>
              <img src="tivigi/img/arrow_down2.svg" :style="getSortIconStyle(index)" />

            </button>
          </th>

        </tr>
      </thead>

      <tbody ref="tbody">

        <!-- ######## BEGIN Row with maximmum length entries to ensure constant column widths ####### -->
        <tr>
          <td class="TableView2_Spacer" v-for="value in maxWidthRow">{{value}}</td>
        </tr>
        <!-- ######## END Row with maximmum length entries to ensure constant column widths ####### -->

        <tr v-for="(row,index) in prepareData()">
          <td v-for="field in displayData.fields" :style="getDynamicStyle(field)" :data-tooltip="field.display(row)">
            {{field.display(row)}}
          </td>
        </tr>

      </tbody>
    </table>

  </div>

</div>